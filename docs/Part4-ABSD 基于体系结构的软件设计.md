# ABSD 基于体系结构的软件设计

基于体系结构的软件设计，ABSD 方法，是自顶向下、递归细化的方法，将系统拆分成不同的概念子系统，子系统再拆分成概念构件，作为一个架构设计师，你需要在不同的视角（Perspective）来观察对架构的描述，通过用例和质量场景，明确系统在不同视角下的要求。比如系统在可用性上，需要达到容灾备份，在 3 秒内完成备份切换。

ABSD 方法将软件过程划分成体系结构需求、设计、文档化、复审、实现和演化 6 个子过程，

## 需求

需求一般来源于三个方面，分别是系统的质量目标、系统的商业目标和**系统开发人员的商业目标**。

获取需求后需要整理成 UML 类图，将类图打包成构件，这里的构件和开发并不一样，需要注意使用场景，对需求来说，构件也是一个需求。好处在于不同的项目可能到最后基础构件是互通的，就可以节省需求获取的时间，提升效率。

然后就是对需求进行评审，由不同身份的人员组成小组明确

- 所获取的需求是否真实的反映了用户的要求
- 类的分组是否合理
- 构件合并是否合理

这也是一个迭代的过程，不可能指望一次就做好。

最后的输出就是构件库

## 设计

- 提出软件体系结构模型
- 将已标识的构件映射到软件体系结构中
- 分析构件之间的互相作用
- 产生软件体系结构
- 设计评审

设计出来是什么样的，应该通过文档化这个步骤确定系统的细节

## 文档化

输出两个文档

1. 体系结构规格说明
2. 测试体系结构需求的**质量设计说明书**

这就是需求文档了，用户、开发、测试都需要根据这个文档明确工作目标。文档的编写需要注意，要从使用者的角度进行编写，必须分发给所有与系统有关的开发人员，且必须保证开发者手上的文档是最新的。

这里只保证开发人员手上最新，因为这关系到最终实现，用户、甲方之类的人员不一定需要这份文档。

## 复审

设计、文档化、复审是一个迭代的过程，做完设计后，需要安排由外部人员（用户代表和领域专家）参加复审，识别潜在的风险，及早发现架构设计中的缺陷和错误，体系结构能否满足需求、质量需求是否在设计中得到体现、层次是否清晰、构件划分是否合理、文档表述是否明确、构件设计是否满足功能与性能的要求等等。

## 实现

实现必须以复审后的体系结构说明书为基础，每个构件必须满足软件体系结构中说明的对其他构件的责任，在体系结构说明书中，已经定义系统中的构件与构件之间的关系。在体系结构层次上，构件接口约束对外唯一的代表了构件，所以可以从构件库中查找符合接口约束的构件，必要时开发新的构件。按照设计提供的结构，通过组装支持工具把这些构件的实现体组装起来，完成整个软件系统的连接与合成。

最后一步是测试，包括单个构件的功能性测试和被组装的应用的整体功能和性能测试。

## 演化

软件开发和开发结束运行的期间，用户需求也会发生改变，在这种情况下，就需要修改软件体系结构。

1. 需求变化归类，那些构件需要变化，是否需要新增构件，做好标记。
2. 制定演化计划，时间、人员安排等
3. 修改、增加或删除构件，根据归类情况对构件进行处理，最后对修改和增加的构件进行功能性测试
4. 更新构件的相互作用，还记得分析过程中有一条‘分析构件之间的互相作用’吗？在原先的构件修改之后，相互作用的流程图也需要调整以明确当前系统的最新设计。
5. 构件组装与测试，组装后的系统整体功能与性能需要从新进行测试。
6. 技术评审，评审组装后的体系结构是否反应需求变动、符合用户需求，进行迭代。

## 总结

整个 ABSD 方法其实是符合开发人员的直觉的，当我们站在架构设计的视角，这样的流程是自然而然的，需要注意的比如需求的输出是构件库，设计、文档化的输出是体系结构说明书和质量设计说明书。

在教程的下篇中还会有层次式体系架构设计、云原生架构、面向服务架构、嵌入式系统架构设计、通信系统架构设计、安全架构设计、大数据架构设计等等。

下篇中的内容其实是 ABSD 方法的延申，在体系结构设计、实现的环节，适配不同的项目环境。整体的软件设计流程还是基于 ABSD 方法，考试中一般不会考 ABSD 方法的论文，因为整体来说 ABSD 是一个比较简单、规范的流程，考点并不多，而且并没有深入设计与实现的部分。所以下篇中的架构设计类型可以看作是 ABSD 在设计与实现上的不同类型，而不是和 ABSD 不同的设计方法。
