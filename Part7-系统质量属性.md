# 系统质量属性

质量属性是一个系统的可测量或者可测试的属性，用来描述系统满足需求的成都。基于软件生命周期，可以分为开发期质量属性和运行期质量属性。

- 开发期质量属性

  1. 易理解性
  2. 可扩展性
  3. 可重用性
  4. 可测试性
  5. 可维护性
  6. 可移植性

- 运行期质量属性
  1.  性能
  2.  安全性
  3.  可伸缩性
  4.  互操作性
  5.  可靠性
  6.  可用性
  7.  鲁棒性（健壮性/容错性）

同时还有一套是用于架构评估的，没想到把，有三套

1. 性能
2. 可靠性
3. 可用性
4. 安全性
5. 可修改性
6. 功能性
7. 可变性
8. 互操作性

相比于运行期，评估的时候少了一个可伸缩性和鲁棒性，多了可变性、功能性、可修改性

质量属性一般案例题会考运行期的质量属性填空，

| 编号  | 内容描述                                                                                                                                                                                                   | 分类         |
| ----- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------ |
| （a） | 10000 用户并发点播视频时，视频不卡顿。                                                                                                                                                                     | 性能         |
| （b） | 用户口令在保存进数据库之前，必须进行 MD5 码处理。                                                                                                                                                          | 【安全性】   |
| （c） | 视频点播支持多平台，当一个平台出现故障后，30 秒内将用户请求切换至另一平台。                                                                                                                                | 【可用性】   |
| （d） | 平台支持的高清视频码率至少达到 3Mb/s。                                                                                                                                                                     | 【性能】     |
| （e） | 学员不必查看帮助文档，也能正常使用系统。                                                                                                                                                                   | 【易用性】   |
| （f） | 学员信息数据库授权必须保证 99.9%可用。                                                                                                                                                                     | 【安全性】   |
| （g） | 更改视频加密的方式将对安全性和性能产生影响。                                                                                                                                                               | 【权衡点】   |
| （h） | 目前对学员学习情况分析功能尚未达成共识，这可能导致部分业务功能模块开发后期需要调整。                                                                                                                       | 【风险点】   |
| （i） | 用户名要求必须以字母开头，可以包含下划线和数字，长度不少于 6 个字符。                                                                                                                                      | 【设计约束】 |
| （j） | 系统要扩容时，应保证在 2 人·月内完成所有的部署与测试工作。                                                                                                                                                 | 【可修改性】 |
| （k） | 对用户隐私的保护要求将影响系统的数据传输协议和处理过程的设计。                                                                                                                                             | 【敏感点】   |
| （l） | 系统对学员的操作行为有完整的日志记录。                                                                                                                                                                     | 【安全性】   |
| （m） | 系统必须提供远程调试接口，并支持系统的远程调试。                                                                                                                                                           | 【可测试性】 |
| （o） | 更新系统的 Web 界面接口必须在 1 人月内完成。                                                                                                                                                               | 【可修改性】 |
| （p） | 若每秒学员交卷请求的数量是 30 个，处理单个请求的时间为 20 毫秒，则系统保证在 1 秒内完成用户的请求是可以做到的。                                                                                            | 【非风险点】 |
| （q） | 当在线教育平台发生网络失效后，需要在 60 秒内发现错误并启用备用网络。                                                                                                                                       | 【可用性】   |
| a     | 系统发生错误时，不影响正常运行时发送一个消息给系统管理员                                                                                                                                                   | 可靠性       |
| b     | 方便用户操作，满足一般用户使用的快捷键设置                                                                                                                                                                 | 易用性       |
| c     | 系统界面适配用户提供的屏幕尺寸比例                                                                                                                                                                         | 易用性       |
| d     | 用户提交训练任务时应该在一分钟内提供硬件和资源，并开始任务运行                                                                                                                                             | 性能         |
| e     | 数据库发生故障时，能够在 20 分钟内切换至备用数据库，保证平台继续运行                                                                                                                                       | 可用性       |
| f     | 系统出现故障时，平台能够继续正常运行并通知管理员，同时应提供相关的操作日志、系统日志、访问日志和调试日志等信息                                                                                             | 可靠性       |
| g     | 支持远程用户进行测试和操作，但需限定为注册用户                                                                                                                                                             | 安全性       |
| h     | 系统应支持来自不同终端设备（如浏览器、命令行工具、移动设备等）和操作系统（如 Windows、Linux、macOS）的注册用户同时远程访问与操作平台，系统需能正确解析并响应各类客户端的指令，保证功能一致性与协同操作能力 | 互操作性     |
| i     | 当系统功能需要调整时，应在 3 天内完成功能修改和部署上线                                                                                                                                                    | 可修改性     |
| j     | 系统支持切换不同的语言，方便不同语言背景用户使用                                                                                                                                                           | 易用性       |
| k     | 服务器发生故障后，立即切换到备用服务，保证业务的连续性                                                                                                                                                     | 可用性       |
| l     | 系统需具备良好的异常容错机制，部分模块出错不应影响平台整体运行                                                                                                                                             | 可靠性       |

这是两个案例题的质量场景和答案。可以总结出一些东西。

1. 需要注意文本中是否出现“应”、“需”、“要求”、“必须”这类强调性词语，有则说明这是质量属性而非敏感点、权衡点、风险点的内容。有的时候会混在一起出现，让你选敏感点、权衡点、风险点，所以要注意表述，必须做到的事情，是需求明确的，是质量属性。不明确的，是敏感点、风险点。
2. 质量属性场景描述包含 6 部分

   1. 刺激源，这是某个生成该刺激的实体(人、计算机系统或者任何其他刺激器)。
   2. 刺激，该刺激是当刺激到达系统时需要考虑的条件。
   3. 环境，该刺激在某些条件内发生。当激励发生时，系统可能处于过载、运行或者其他情况
   4. 制品，某个制品被激励。这可能是整个系统，也可能是系统的一部分。
   5. 响应，该响应是在激励到达后所采取的行动。
   6. 响应度量，当响应发生时，应当能够以某种方式对其进行度量，以对需求进行测试。

   > 缺一不可，比如 “系统出现故障时，平台能够继续正常运行并通知管理员，同时应提供相关的操作日志、系统日志、访问日志和调试日志等信息”中，刺激源是“系统”，刺激的内容是“出现故障”，环境是“系统”，制品是“系统或者平台”，响应是“正常运行并通知管理员”，响应度量是“提供相关操作日志……”。

质量属性场景主要关注可用性、可修改性、性能、可测试性、易用性和安全性，对应的做题的时候也只需要分辨这 6 种就可以了，上面提到的 3 套质量属性，只在对应的环境比如开发期、运行期、架构评估时使用。关于**场景**，只需要这 6 个。

# 敏感点、风险点、权衡点

敏感点是一个或多个构件或构件之间的关系的特性，权衡点是影响多个质量属性的特性，是多个质量属性的敏感点。

也就是说“更改视频加密的方式将对安全性和性能产生影响。”这一个描述是权衡点，因为它影响了安全性和性能两个属性，如果我们把它改成“使用 RSA 加密会提升安全”这样的描述，这就是一个敏感点，是 RSA 加密对安全这个属性的特性。

风险点是指架构中潜在的、存在问题的架构决策所带来的隐患，比如“目前对学员学习情况分析功能尚未达成共识，这可能导致部分业务功能模块开发后期需要调整。”重点在于**隐患**，这个问题并没有暴露出来或者对当前的系统没有影响。

相反，非风险点就是没有隐患的描述，“若每秒学员交卷请求的数量是 30 个，处理单个请求的时间为 20 毫秒，则系统保证在 1 秒内完成用户的请求是可以做到的。 ”这一句看上去有很多的响应度量，很多指标，但是他没有“应该”、“必须”这种描述，所以这并不是对系统的要求，并不是系统的质量属性场景，而是一个关于系统的陈述句。

没有任何系统是十全十美的，架构师在这里的职责就是在质量需求之间权衡，对其他人员提出的质量需求进行折中和调停。
